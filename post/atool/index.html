
<!DOCTYPE html>
<html lang="ru">
<head>

  
  <meta charset="UTF-8">
  <title>
    atool: простая работа с архивами в Linux | Emunix
  </title>


  
  <meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1">

  
  <link rel="canonical" href="https://emunix.org/post/atool/"/>

  
  <link href='https://fonts.googleapis.com/css?family=Roboto:300&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  <link rel="stylesheet" href="/css/sanitize.css">
  <link rel="stylesheet" href="/css/responsive.css">
  <link rel="stylesheet" href="/css/theme.css">
  <link rel="stylesheet" href="/css/custom.css">
  
  
  <link href="https://emunix.org/index.xml" rel="alternate" type="application/rss+xml" title="Emunix" />
  <link href="https://emunix.org/index.xml" rel="feed" type="application/rss+xml" title="Emunix" />

</head>

<body>
<div class="container">

  
  <header role="banner">
    <div class="row gutters">
      <div id="site-title" class="col span_6">
        <h1><a href="https://emunix.org/">Emunix</a></h1>
        
      </div>
      <div id="social" class="col span_6">
        <ul>
          <li><a href="https://twitter.com/btimofeev" target="_blank">Twitter</a></li>
          
          <li><a href="https://github.com/btimofeev" target="_blank">GitHub</a></li>
          
        </ul>
      </div>
    </div>
  </header>


  
  <main id="single" role="main">
    <div class="article-header">
      <h1>atool: простая работа с архивами в Linux</h1>
      <div class="meta">
        Mar 24, 2016 &nbsp;
        
          #<a href="/tags/linux">linux</a>&nbsp;
        
          #<a href="/tags/cli">cli</a>&nbsp;
        
      </div>
    </div>
    <article>
      

<p>При работе с архивами в командной строке Linux есть одно неудобство: у каждой программы-архиватора свой набор ключей, который необходимо помнить, либо постоянно заглядывать в man.</p>

<p>Эта проблема легко решается, если использовать утилиту <strong>atool</strong>, т.к. с ее помощью вы сможете работать с любым форматом архивов. Попросту говоря, <strong>atool</strong> это фронтенд для консольных архиваторов, предоставляющий единый интерфейс для работы с ними.</p>

<p>Программу можно скачать с официальной страницы <a href="http://www.nongnu.org/atool">www.nongnu.org/atool</a>, либо установив с помощью пакетного менеджера вашего дистрибутива. Для debian используйте команду <code>sudo apt install atool</code></p>

<h2 id="создание-архивов">Создание архивов</h2>

<p>Для создания архива используется команда <code>apack имя_архива.формат [список_файлов]</code>.</p>

<p>К примеру, команда <code>apack backup.tgz first second third</code> создаст в текущей директории архив <em>backup.tgz</em> и запакует в него файлы <em>first</em>, <em>second</em> и <em>third</em>. Причём формат создаваемого архива автоматически определяется из имени.</p>

<p>Создать несколько архивов можно вот так: <code>apack -e -F .tar.gz dir1 dir2 dir3</code>. В этом примере три директории <em>dir</em> будут упакованы в три разных архива. Ключ <em>-e</em> означает выполнять команду отдельно для каждого аргумента, ключ <em>-F</em> указывает формат создаваемых архивов. Подобным образом эти ключи действуют и в других командах, как будет показано ниже.</p>

<h2 id="просмотр-архивов">Просмотр архивов</h2>

<p>Что бы просмотреть содержимое архива введите <code>als имя_архива</code>. Просмотреть содержимое нескольких архивов: <code>als -e *.tgz</code>.</p>

<p>Что бы вывести на экран содержимое файла, находящегося в архиве, можно использовать команду <code>acat имя_архива имя_файла_в_архиве</code></p>

<h2 id="распаковка-архивов">Распаковка архивов</h2>

<p>Для распаковки архива используется команда <code>aunpack имя_архива [имя_файла_в_архиве]</code>. Если в архиве содержится всего один файл, то он будет распакован в текущую директорию. Если же файлов несколько, то будет создана директория совпадающая с именем архива и файлы распакуются в неё (что, на мой взгляд, очень удобно).</p>

<p>Если вам нужно распаковать архив в другую директорию, то можете её указать после ключа <em>-X</em>: <code>aunpack -X /tmp archive.zip</code>.</p>

<p>Распаковать несколько архивов можно указав ключ <em>-e</em>: <code>aunpack -e *.tar.gz</code>.</p>

<h2 id="перепаковка-архивов">Перепаковка архивов</h2>

<p><strong>atool</strong> также можно использовать для перепаковки архивов в другой формат. Это делается командой <code>arepack старый_архив новый_архив</code>. При этом старый архив не удаляется.</p>

<p>Если вам необходимо перепаковать несколько архивов RAR в формат 7Z, то можно использовать следующую команду <code>arepack -F .7z -e *.rar</code>.</p>

<h2 id="сравнение-архивов">Сравнение архивов</h2>

<p>Сравнить два архива можно командой <code>adiff архив1 архив2</code>.</p>

<p><strong>atool</strong> использует программу <strong>diff</strong> для сравнения файлов.</p>

<h2 id="единая-команда">Единая команда</h2>

<p>Вместо всех этих команд возможно использовать команду <strong>atool</strong> с соответствующим ключем:</p>

<ul>
<li><strong>atool -l</strong> вместо <strong>als</strong></li>
<li><strong>atool -x</strong> вместо <strong>aunpack</strong></li>
<li><strong>atool -a</strong> вместо <strong>apack</strong></li>
<li><strong>atool -c</strong> вместо <strong>acat</strong></li>
<li><strong>atool -d</strong> вместо <strong>adiff</strong></li>
<li><strong>atool -r</strong> вместо <strong>arepack</strong></li>
</ul>

<p>Возможно, такой вариант кому-то покажется предпочтительным.</p>

<h2 id="заключение">Заключение</h2>

<p>Как вы могли увидеть, <strong>atool</strong> это очень простая и, в то же время, мощная программа. Разобравшись с ней один раз вы больше не будете испытывать проблем с запоминанием ключей для множества консольных архиваторов.</p>

    </article>
    
 <aside><div id="disqus_thread"></div></aside> 

<script type="text/javascript">
     
    var disqus_shortname = 'emunix';

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

  </main>
  
  <nav class="pagination">
    
      <span class="previous">&larr; <a href="https://emunix.org/post/git-rebase/" rel="prev">Git: обновление ветки до актуального состояния</a></span>
    
    
      <span class="next"><a href="https://emunix.org/post/how-to-share-partition-between-users-in-linux/" rel="next">Как сделать раздел жесткого диска доступным нескольким пользователям</a> &rarr;</span>
    
  </nav>


  
  <footer role="contentinfo">
    <div style="text-align:center;">
      
      © 2011-2018, <a href="mailto:btimofeev@emunix.org">Борис Тимофеев</a>
    </div>
  </footer>


</div>

<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-28744527-1', 'auto');
	ga('send', 'pageview');
</script>

</body>
</html>

